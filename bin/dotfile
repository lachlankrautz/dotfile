#!/usr/bin/env bash

source "${0%/*}/../src/util/init.sh"

usage() {
    read -r -d '' TITLE << EOF
         __      __  _____ __
    ____/ /___  / /_/ __(_) /__
   / __  / __ \/ __/ /_/ / / _ \\
  / /_/ / /_/ / /_/ __/ / /  __/
  \__,_/\____/\__/_/ /_/_/\___/
EOF
    echo -en "${term_bold}${term_fg_blue}${TITLE}${term_reset}"
    echo
    cat << EOF

Usage: dotfile [options] [command]

Options:
        -h, --help    Display usage
        -v, --version Display version

Commands:
        sync          Sync dotfiles

EOF
}

dotfile_option_v() {
    dotfile_option_version
}
dotfile_option_version() {
    echo "Version 1.0"
}
dotfile_option_h() {
    HELP=1
    dispatch dotfile "$@"
}
dotfile_option_help() {
    HELP=1
    dispatch dotfile "$@"
}
dotfile_command_sync() {
    if [ ${HELP} = 0 ]; then
        source ${PATH_BASE}/src/command/sync.sh
    else
        dispatch dotfile "$@"
    fi
}
dotfile_call_() {
    BAD_CALL=1
    usage
    exit
}
dotfile_() {
    usage
}
dispatch dotfile "$@"
